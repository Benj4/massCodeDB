{"name":"Buscar todas las tablas que tengan la misma columna","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"sql","value":"select t.table_schema,\r\n       t.table_name\r\nfrom information_schema.tables t\r\ninner join information_schema.columns c on c.table_name = t.table_name \r\n                                and c.table_schema = t.table_schema\r\nwhere c.column_name = 'x' --Nombre de la columna a buscar\r\n      and t.table_schema not in ('information_schema', 'pg_catalog')\r\n      and t.table_type = 'BASE TABLE' --tipo de tabla\r\norder by t.table_schema;"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1588286833827},"updatedAt":{"$$date":1588286955906},"_id":"9PjWWBrE5k0fmXLb","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[]}
{"name":"Filtro Ultimo Dia","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"pgsql","value":"WITH\r\n    filtered_variabledemedida AS (\r\n      SELECT variabledemedida, valor AS valor_str, horamedicion, tipovariabledemedida, estacionmeteorologica_sensorid\r\n        ,CASE WHEN REGEXP_REPLACE(valor, '\\\\s+$', '')~E'^[+-]?(\\\\\\\\d*\\\\\\\\.)?\\\\\\\\d+$' THEN CAST( valor AS FLOAT) ELSE 0 END as valor\r\n      FROM public.variabledemedida\r\n      WHERE estacionmeteorologica_sensorid = $1\r\n      ${idsTipoMedida} )\r\n\r\n    SELECT variabledemedida, valor, valor_str, horamedicion, tipovariabledemedida, estacionmeteorologica_sensorid\r\n    ,TV.nombre AS nombreTipovariable\r\n      ,U.nombre AS nombreUnidadmedida\r\n   \r\n  FROM filtered_variabledemedida V\r\n  LEFT JOIN public.tipovariabledemedida TV ON TV.id = V.tipovariabledemedida\r\n  LEFT JOIN public.unidadmedida U ON U.id = TV.unidadmedida\r\n  \r\n  WHERE \r\n      --filtro para obtener solo el ultimo dia de mediciones \r\n      horamedicion > ( select horamedicion from filtered_variabledemedida\r\n                  order by horamedicion desc limit 1 ) - interval '1' day\r\n    \r\n  ORDER BY horamedicion DESC"}],"tags":["BApq9Uv21BwH7R4B","uIGA7bA5k1Nb1Ksa","ecE308IHzgHKfkX6","VYs0apu6pr0uE0TJ"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579557666878},"updatedAt":{"$$date":1579658426346},"_id":"A4lLECtFWhLf7f5Y","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[{"name":"sql","_id":"BApq9Uv21BwH7R4B","text":"sql"},{"name":"postgis","_id":"uIGA7bA5k1Nb1Ksa","text":"postgis"},{"name":"date","_id":"ecE308IHzgHKfkX6","text":"date"},{"name":"datetime","_id":"VYs0apu6pr0uE0TJ","text":"datetime"}]}
{"name":"Ejecutar funcion solo en el ultimo onChange","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"   handlerBuscarRecurso = (ev) => {\r\n\r\n      const inputVal = ev.target.value;\r\n\r\n      clearTimeout( this.timebuscar )\r\n      this.timebuscar = setTimeout( ()=> this.buscarRecurso(inputVal), 500 );\r\n\r\n   }"}],"tags":["zFAttbknrdYoKkmt","GMwyIWPFexn3wthg","r5UZluFlUWOMzWkx","6aj1XwtZUHVrGd3L"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579623212110},"updatedAt":{"$$date":1579623290670},"_id":"ACP7riY8Py5iIT3V","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"react","_id":"zFAttbknrdYoKkmt","text":"react"},{"name":"onChange","_id":"GMwyIWPFexn3wthg","text":"onChange"},{"name":"keyup","_id":"r5UZluFlUWOMzWkx","text":"keyup"},{"name":"timeout","_id":"6aj1XwtZUHVrGd3L","text":"timeout"}]}
{"name":"Password segura","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"// una letra minuscula, una letra mayuscula, un numero y un carcter especial\r\n\r\n\r\nlet regexPassword = /(?=.*\\d)(?=.*\\W+)(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/;"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1595448299511},"updatedAt":{"$$date":1595448353379},"_id":"Epoi2gM2t6ny1Go0","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Eliminar todos los caracteres NO numericos","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"const onlyNumber = function( text ) {\r\n \r\n    text = text + '';\r\n    return text.replace(/([^\\d])+/gm,\"\");\r\n    \r\n}"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580398344702},"updatedAt":{"$$date":1580407480939},"_id":"I3PDJDeLbzfRgBLC","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Decimal separado por coma, maximo 2 decimales","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"// valores validos:\r\n// 123\r\n// 1\r\n// 1,2\r\n// 2,34\r\n// 22,34\r\n// 22,3\r\n\r\nvar regx = /(^\\d*(,[0-9]{0,2})?$)+/"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580769172575},"updatedAt":{"$$date":1580769313449},"_id":"Ir9AatY2CSKjCDbz","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Rut simple ","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"text","value":"var regx = /[1-9]{1}[0-9]{6,7}-(k|K|\\d){1}/gm"}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1580398487047},"updatedAt":{"$$date":1580398545185},"_id":"PRr25qYEchzk32U4","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"fake JOIN","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"javascript","value":"// \"JOIN\" simple, user queda con un array de usuarios\r\n[\r\n  {\r\n    '$lookup': {\r\n      'from': 'users', \r\n      'localField': 'userId', \r\n      'foreignField': '_id', \r\n      'as': 'user'\r\n    }\r\n  }\r\n]\r\n\r\n// \"JOIN\" con busqueda (match) y unwind para eliminar el array de tokenRedgesamData y dejar un solo objeto\r\n[\r\n  {\r\n    '$sort': {\r\n      'createdAt': -1\r\n    }\r\n  }, {\r\n    '$match': {\r\n      'endAttention': {\r\n        '$exists': false\r\n      }\r\n    }\r\n  }, {\r\n    '$lookup': {\r\n      'from': 'tokenredgesams', \r\n      'localField': 'tokenRedgesamData', \r\n      'foreignField': '_id', \r\n      'as': 'tokenRedgesamData'\r\n    }\r\n  }, {\r\n    '$unwind': {\r\n      'path': '$tokenRedgesamData'\r\n    }\r\n  }\r\n]\r\n\r\n\r\n"}],"tags":["NmBbnWk2XQ54zovX","3TnR5Obhd1zDNTa6","Ue8nyI1bwSGjWH0d"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1589562732797},"updatedAt":{"$$date":1589563070091},"_id":"Py9JuVT2YTGyv0yS","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"aggregate","_id":"NmBbnWk2XQ54zovX","text":"aggregate"},{"name":"mongodb","_id":"3TnR5Obhd1zDNTa6","text":"mongodb"},{"name":"lookup","_id":"Ue8nyI1bwSGjWH0d","text":"lookup"}]}
{"name":"Rut simple","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"//comianza con un numero que no sea 0\r\n//tiene 7 u 8 caracteres\r\n//tiene guion\r\n//un solo digito despues del guion, k o K\r\n\r\nvar regx = /^([1-9]{1}[0-9]{6,7})(-(k|K|\\d){1})$/g"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580398564526},"updatedAt":{"$$date":1580398786157},"_id":"UZQjQXBcB5d8NiYE","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"dandole de comer al tio benja","folderId":"kysBHmye","content":[{"label":"Fragment 1","language":"javascript","value":"console.log('Tio Benja se la come!');"}],"tags":["rirXDrWDIW6LttAI"],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579653446510},"updatedAt":{"$$date":1579653503901},"_id":"ZFHbEAT5iZwOQbay","folder":{"id":"kysBHmye","name":"BadSongs.rb","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"pene","_id":"rirXDrWDIW6LttAI","text":"pene"}]}
{"name":"POST json con un formulario html","folderId":"AAPrKhEl9","content":[{"label":"Fragment 1","language":"html","value":"<!-- https://systemoverlord.com/2016/08/24/posting-json-with-an-html-form.html -->\r\n\r\n<body onload='document.forms[0].submit()'>\r\n  <form method='POST' enctype='text/plain'>\r\n    <input name='{\"secret\": 1337, \"trash\": \"' value='\"}'>\r\n  </form>\r\n</body>"}],"tags":["kci94lWkOIsXaUXZ","gqwiN6q2rBxkovSg","7buKtbQ4an9TUkQI","pbnwIzIFdVwSOCm0"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1592413481324},"updatedAt":{"$$date":1592413540179},"_id":"appupo25h5pPhbxA","folder":{"id":"AAPrKhEl9","name":"jaksss","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"hack","_id":"kci94lWkOIsXaUXZ","text":"hack"},{"name":"json","_id":"gqwiN6q2rBxkovSg","text":"json"},{"name":"html","_id":"7buKtbQ4an9TUkQI","text":"html"},{"name":"post","_id":"pbnwIzIFdVwSOCm0","text":"post"}]}
{"name":"onChange timeOut","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"text","value":"   handlerBuscarRecurso = (ev) => {\r\n\r\n      const inputVal = ev.target.value;\r\n\r\n      clearTimeout( this.timebuscar )\r\n      this.timebuscar = setTimeout( ()=> this.buscarRecurso(inputVal), 500 );\r\n\r\n   }"}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579623176683},"updatedAt":{"$$date":1579623205083},"_id":"eXvjsyIOgZWw0UVb","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Untitled snippet","folderId":null,"content":[{"label":"Fragment 1","value":""}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579701067199},"updatedAt":{"$$date":1579701067199},"_id":"emcs66To8aOqOU95"}
{"name":"Buscar Duplicados","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"javascript","value":"//donde \"$rut\" es el nombre del campo ( agregando $ al comienzo)\r\n\r\ndb.collection.aggregate(\r\n    [{\"$group\" : { \"_id\": \"$rut\", \"count\": { \"$sum\": 1 } } },\r\n    {\"$match\": {\"_id\" :{ \"$ne\" : null } , \"count\" : {\"$gt\": 1} } }, \r\n    {\"$project\": {\"rut\" : \"$_id\", \"_id\" : 0} }]\r\n)"}],"tags":["3TnR5Obhd1zDNTa6","NmBbnWk2XQ54zovX"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1588964490675},"updatedAt":{"$$date":1593101126767},"_id":"jQ45y2j68a19qmu9","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"mongodb","_id":"3TnR5Obhd1zDNTa6","text":"mongodb"},{"name":"aggregate","_id":"NmBbnWk2XQ54zovX","text":"aggregate"}]}
{"name":"Enjoy the little thinks","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"pgsql","value":"UPDATE public.ubicacion\r\n\tSET  latitud=longitud, longitud=latitud"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579658549006},"updatedAt":{"$$date":1579658616945},"_id":"wpR7mhTinWjlJg7L","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[]}
{"name":"Convertir codigo hexadecimal ascii a caracter","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"function hex_to_ascii(str1)\r\n{\r\n   var hex  = str1.toString();\r\n   var str = '';\r\n   for (var n = 0; n < hex.length; n += 2) {\r\n       str += String.fromCharCode(parseInt(hex.substr(n, 2), 16));\r\n   }\r\n   return str;\r\n}\r\n\r\nconsole.log(hex_to_ascii('0D'))  // salto de linea\r\nconsole.log( JSON.stringify( hex_to_ascii('0D') ) ) // \"\\r\"\r\nconsole.log(hex_to_ascii('3F')) // ?\r\nconsole.log(hex_to_ascii('40')) // @"}],"tags":["zPKqcjdDMQZ5c0pb","rBD9zTvNS0tgqhna"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579731478004},"updatedAt":{"$$date":1579731844595},"_id":"xEEYAfsOIrL4yTlX","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"hexadecimal","_id":"zPKqcjdDMQZ5c0pb","text":"hexadecimal"},{"name":"ascii","_id":"rBD9zTvNS0tgqhna","text":"ascii"}]}
