{"name":"SELECT COUNT GROUP BY","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"text","value":" db.countGroupByDemo.aggregate([\r\n... {\"$group\":{_id:\"$StudentId\",counter:{$sum:1}}}]);"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612872652205},"updatedAt":{"$$date":1612872654093},"_id":"3Y3wxl2UhOLJXw5k","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[]}
{"name":"Numero de carpetas/archivos","folderId":"ckpLYBKjW","content":[{"label":"Fragment 1","language":"shell","value":"ls /home | wc -l"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1613009415564},"updatedAt":{"$$date":1613009492255},"_id":"4ii54KxoTXGDt98q","folder":{"id":"ckpLYBKjW","name":"Shell","open":false,"defaultLanguage":"shell"},"tagsPopulated":[]}
{"name":"Buscar ${123}","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"//para buscar coincidencias con este formato ${123}\r\n\r\nlet regx = /\\$\\{([0-9]+?)\\}/\r\n"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612279535774},"updatedAt":{"$$date":1612282896501},"_id":"5rr0bBM4HDVnf33I","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Distancia geografica entre dos puntos en  metros","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"var rad = function(x) {\r\n  return x * Math.PI / 180;\r\n};\r\n\r\nvar getDistance = function(p1, p2) {\r\n  var R = 6378137; // Earthâ€™s mean radius in meter\r\n  var dLat = rad(p2.lat() - p1.lat());\r\n  var dLong = rad(p2.lng() - p1.lng());\r\n  var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) +\r\n    Math.cos(rad(p1.lat())) * Math.cos(rad(p2.lat())) *\r\n    Math.sin(dLong / 2) * Math.sin(dLong / 2);\r\n  var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n  var d = R * c;\r\n  return d; // returns the distance in meter\r\n};"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1597442616178},"updatedAt":{"$$date":1597442639989},"_id":"7eb5qOq3W0ytVWD7","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Buscar nombre de columnas en todas las tablas","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"sql","value":"select t.table_schema,\r\n       t.table_name\r\nfrom information_schema.tables t\r\ninner join information_schema.columns c on c.table_name = t.table_name \r\n                                and c.table_schema = t.table_schema\r\nwhere c.column_name = 'x' --Nombre de la columna a buscar\r\n      and t.table_schema not in ('information_schema', 'pg_catalog')\r\n      and t.table_type = 'BASE TABLE' --tipo de tabla\r\norder by t.table_schema;"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1588286833827},"updatedAt":{"$$date":1612574676758},"_id":"9PjWWBrE5k0fmXLb","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[]}
{"name":"ssh con .pem","folderId":"ckpLYBKjW","content":[{"label":"Fragment 1","language":"shell","value":"ssh -i ~/keys/secret.pem -l username 191.xxx.xxx.xxx"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612283960161},"updatedAt":{"$$date":1612283969699},"_id":"9l1cL5rTatgFQ7ar","folder":{"id":"ckpLYBKjW","name":"Shell","open":false,"defaultLanguage":"shell"},"tagsPopulated":[]}
{"name":"Filtro Ultimo Dia","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"pgsql","value":"WITH\r\n    filtered_variabledemedida AS (\r\n      SELECT variabledemedida, valor AS valor_str, horamedicion, tipovariabledemedida, estacionmeteorologica_sensorid\r\n        ,CASE WHEN REGEXP_REPLACE(valor, '\\\\s+$', '')~E'^[+-]?(\\\\\\\\d*\\\\\\\\.)?\\\\\\\\d+$' THEN CAST( valor AS FLOAT) ELSE 0 END as valor\r\n      FROM public.variabledemedida\r\n      WHERE estacionmeteorologica_sensorid = $1\r\n      ${idsTipoMedida} )\r\n\r\n    SELECT variabledemedida, valor, valor_str, horamedicion, tipovariabledemedida, estacionmeteorologica_sensorid\r\n    ,TV.nombre AS nombreTipovariable\r\n      ,U.nombre AS nombreUnidadmedida\r\n   \r\n  FROM filtered_variabledemedida V\r\n  LEFT JOIN public.tipovariabledemedida TV ON TV.id = V.tipovariabledemedida\r\n  LEFT JOIN public.unidadmedida U ON U.id = TV.unidadmedida\r\n  \r\n  WHERE \r\n      --filtro para obtener solo el ultimo dia de mediciones \r\n      horamedicion > ( select horamedicion from filtered_variabledemedida\r\n                  order by horamedicion desc limit 1 ) - interval '1' day\r\n    \r\n  ORDER BY horamedicion DESC"}],"tags":["BApq9Uv21BwH7R4B","uIGA7bA5k1Nb1Ksa","ecE308IHzgHKfkX6","VYs0apu6pr0uE0TJ"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579557666878},"updatedAt":{"$$date":1579658426346},"_id":"A4lLECtFWhLf7f5Y","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[{"name":"sql","_id":"BApq9Uv21BwH7R4B","text":"sql"},{"name":"postgis","_id":"uIGA7bA5k1Nb1Ksa","text":"postgis"},{"name":"date","_id":"ecE308IHzgHKfkX6","text":"date"},{"name":"datetime","_id":"VYs0apu6pr0uE0TJ","text":"datetime"}]}
{"name":"Ejecutar funcion solo en el ultimo onChange","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"   handlerBuscarRecurso = (ev) => {\r\n\r\n      const inputVal = ev.target.value;\r\n\r\n      clearTimeout( this.timebuscar )\r\n      this.timebuscar = setTimeout( ()=> this.buscarRecurso(inputVal), 500 );\r\n\r\n   }"}],"tags":["zFAttbknrdYoKkmt","GMwyIWPFexn3wthg","r5UZluFlUWOMzWkx","6aj1XwtZUHVrGd3L"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579623212110},"updatedAt":{"$$date":1579623290670},"_id":"ACP7riY8Py5iIT3V","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"react","_id":"zFAttbknrdYoKkmt","text":"react"},{"name":"onChange","_id":"GMwyIWPFexn3wthg","text":"onChange"},{"name":"keyup","_id":"r5UZluFlUWOMzWkx","text":"keyup"},{"name":"timeout","_id":"6aj1XwtZUHVrGd3L","text":"timeout"}]}
{"name":"Listar SP","folderId":"W2ZTQ6eOx","content":[{"label":"Fragment 1","language":"sql","value":"SHOW PROCEDURE STATUS WHERE db = 'nombrebasedatos';"}],"tags":["Wx4A49698HeNq8ag"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612283998065},"updatedAt":{"$$date":1612574813444},"_id":"ADGt7TiHgksG8AbW","folder":{"id":"W2ZTQ6eOx","name":"MySQL","open":false,"defaultLanguage":"sql"},"tagsPopulated":[{"name":"SP","_id":"Wx4A49698HeNq8ag","text":"SP"}]}
{"name":"Random String","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"function makeid(length) {\r\n   var result           = '';\r\n   var characters       = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n   var charactersLength = characters.length;\r\n   for ( var i = 0; i < length; i++ ) {\r\n      result += characters.charAt(Math.floor(Math.random() * charactersLength));\r\n   }\r\n   return result;\r\n}\r\n\r\nconsole.log(makeid(5));\r\n\r\n\r\n// o la forma mala y corta\r\nMath.random().toString(16).substr(2, length)"}],"tags":["wyPGFt9TANlhyhOp"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1616008566066},"updatedAt":{"$$date":1616603921643},"_id":"BZDOGhbOXuJJWfXY","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"rng","_id":"wyPGFt9TANlhyhOp","text":"rng"}]}
{"name":"Password segura","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"// una letra minuscula, una letra mayuscula, un numero y un carcter especial\r\n\r\n\r\nlet regexPassword = /(?=.*\\d)(?=.*\\W+)(?![.\\n])(?=.*[A-Z])(?=.*[a-z]).*$/;"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1595448299511},"updatedAt":{"$$date":1595448353379},"_id":"Epoi2gM2t6ny1Go0","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Eliminar todos los caracteres NO numericos","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"const onlyNumber = function( text ) {\r\n \r\n    text = text + '';\r\n    return text.replace(/([^\\d])+/gm,\"\");\r\n    \r\n}"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580398344702},"updatedAt":{"$$date":1580407480939},"_id":"I3PDJDeLbzfRgBLC","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"SHA-256","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"// This feature is available only in secure contexts (HTTPS), in some or all supporting browsers.\r\n\r\nasync function sha256(message) {\r\n    // encode as UTF-8\r\n    const msgBuffer = new TextEncoder().encode(message);                    \r\n\r\n    // hash the message\r\n    const hashBuffer = await crypto.subtle.digest('SHA-256', msgBuffer);\r\n\r\n    // convert ArrayBuffer to Array\r\n    const hashArray = Array.from(new Uint8Array(hashBuffer));\r\n\r\n    // convert bytes to hex string                  \r\n    const hashHex = hashArray.map(b => ('00' + b.toString(16)).slice(-2)).join('');\r\n    return hashHex;\r\n}\r\n\r\n// https://developer.mozilla.org/en-US/docs/Web/API/SubtleCrypto/digest\r\n\r\n\r\n// Forma corta y mala\r\n// Math.random().toString(16).substr(2, 20)\r\n\r\nasync function getBooda(){\r\n  let str, hash;\r\n  do{\r\n    str = Math.random().toString(16).substr(2, 20)\r\n    hash = await sha256(str);\r\n  }while(!hash.includes('b00da'))\r\n  \r\n  return {str, hash}\r\n\r\n}\r\n\r\n(async ()=>{\r\n  let it1, it2;\r\n  while(!it2){\r\n    it1 = await getBooda();\r\n    let tamos = await sha256(it1.hash)\r\n    console.log(it1.str, it1.hash, tamos)\r\n    if(tamos.includes('b00da')){\r\n      it2 = tamos;\r\n    }\r\n  }\r\n  console.log(it1, it2)\r\n\r\n})()\r\n\r\n\r\n\r\n\r\n\r\n"}],"tags":["gskskcQdK4XqXLMg","eWByeqJ2u9fHIWtm"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1614787539052},"updatedAt":{"$$date":1616611394324},"_id":"I9ex6h7zYMIagd2s","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"sha","_id":"gskskcQdK4XqXLMg","text":"sha"},{"name":"crypto","_id":"eWByeqJ2u9fHIWtm","text":"crypto"}]}
{"name":"Decimal separado por coma, maximo 2 decimales","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"// valores validos:\r\n// 123\r\n// 1\r\n// 1,2\r\n// 2,34\r\n// 22,34\r\n// 22,3\r\n\r\nvar regx = /(^\\d*(,[0-9]{0,2})?$)+/"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580769172575},"updatedAt":{"$$date":1580769313449},"_id":"Ir9AatY2CSKjCDbz","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Capitalize todas las palabras","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"\r\nconst string = \"aaa BBB Ccc dDD\";\r\n\r\nconst cap_string = string.toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, letter => letter.toUpperCase());\r\n\r\nconsole.log( cap_string ); // \"Aaa Bbb Ccc Ddd\""}],"tags":["QROSzI5nc2XEdvnz","rCRrwXoIXdXqZRHb"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612555756658},"updatedAt":{"$$date":1612574315867},"_id":"KTT7muzh1faQsphm","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"capitalize","_id":"QROSzI5nc2XEdvnz","text":"capitalize"},{"name":"regx","_id":"rCRrwXoIXdXqZRHb","text":"regx"}]}
{"name":"Valores Duplicados","folderId":"W2ZTQ6eOx","content":[{"label":"Fragment 1","language":"sql","value":"-- Find duplicate values in one column\r\n\r\nSELECT \r\n    col, \r\n    COUNT(col)\r\nFROM\r\n    table_name\r\nGROUP BY col\r\nHAVING COUNT(col) > 1;\r\n\r\n\r\n-- Find duplicate values in multiple columns\r\n\r\nSELECT \r\n    col1, COUNT(col1),\r\n    col2, COUNT(col2),\r\n    ...\r\n\r\nFROM\r\n    table_name\r\nGROUP BY \r\n    col1, \r\n    col2, ...\r\nHAVING \r\n       (COUNT(col1) > 1) AND \r\n       (COUNT(col2) > 1) AND \r\n       ..."}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612574462092},"updatedAt":{"$$date":1612574506112},"_id":"KbU709c6ukF0eNt5","folder":{"id":"W2ZTQ6eOx","name":"MySQL","open":false,"defaultLanguage":"sql"},"tagsPopulated":[]}
{"name":"Rut simple ","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"text","value":"var regx = /[1-9]{1}[0-9]{6,7}-(k|K|\\d){1}/gm"}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1580398487047},"updatedAt":{"$$date":1580398545185},"_id":"PRr25qYEchzk32U4","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"fake JOIN","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"javascript","value":"// \"JOIN\" simple, user queda con un array de usuarios\r\n[\r\n  {\r\n    '$lookup': {\r\n      'from': 'users', \r\n      'localField': 'userId', \r\n      'foreignField': '_id', \r\n      'as': 'user'\r\n    }\r\n  }\r\n]\r\n\r\n// \"JOIN\" con busqueda (match) y unwind para eliminar el array de tokenRedgesamData y dejar un solo objeto\r\n[\r\n  {\r\n    '$sort': {\r\n      'createdAt': -1\r\n    }\r\n  }, {\r\n    '$match': {\r\n      'endAttention': {\r\n        '$exists': false\r\n      }\r\n    }\r\n  }, {\r\n    '$lookup': {\r\n      'from': 'tokenredgesams', \r\n      'localField': 'tokenRedgesamData', \r\n      'foreignField': '_id', \r\n      'as': 'tokenRedgesamData'\r\n    }\r\n  }, {\r\n    '$unwind': {\r\n      'path': '$tokenRedgesamData'\r\n    }\r\n  }\r\n]\r\n\r\n\r\n"}],"tags":["NmBbnWk2XQ54zovX","3TnR5Obhd1zDNTa6","Ue8nyI1bwSGjWH0d"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1589562732797},"updatedAt":{"$$date":1589563070091},"_id":"Py9JuVT2YTGyv0yS","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"aggregate","_id":"NmBbnWk2XQ54zovX","text":"aggregate"},{"name":"mongodb","_id":"3TnR5Obhd1zDNTa6","text":"mongodb"},{"name":"lookup","_id":"Ue8nyI1bwSGjWH0d","text":"lookup"}]}
{"name":"expect_or","folderId":"_Aj1Cgr17","content":[{"label":"Fragment 1","language":"javascript","value":"function expect_or(...tests) {\r\n  try {\r\n    tests.shift()();\r\n  } catch (e) {\r\n    if (tests.length) expect_or(...tests);\r\n    else throw e;\r\n  }\r\n}\r\n\r\n\r\n// and use it like this:\r\n\r\nexpect_or(\r\n  () => expect(someNumber).toBe(1),\r\n  () => expect(someNumber).toBe(-2),\r\n  () => expect(someNumber).toBe(22)\r\n);"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1616897653643},"updatedAt":{"$$date":1616897683502},"_id":"Sd01zPmpdJwKaTKo","folder":{"id":"_Aj1Cgr17","name":"Jest","open":false,"defaultLanguage":"text"},"tagsPopulated":[]}
{"name":"Apahe SWA","folderId":"ArGbgibS","content":[{"label":"Fragment 1","language":"xml","value":"<VirtualHost *:80>\r\n    DocumentRoot \"/xampp/htdocs\"\r\n    #ServerName www.example.com\r\n\r\n\t<Directory \"/xampp/htdocs\">\r\n\t\tRewriteEngine on\r\n\t\tRewriteCond %{REQUEST_URI} !^desa/\r\n\t\t# Don't rewrite files or directories\r\n\t\tRewriteCond %{REQUEST_FILENAME} -f [OR]\r\n\t\tRewriteCond %{REQUEST_FILENAME} -d\r\n\t\tRewriteRule ^ - [L]\r\n\t\t# Rewrite everything else to index.html to allow html5 state links\r\n\t\tRewriteRule ^ index.html [L]\r\n\t</Directory>\r\n\r\n\t<Directory \"/xampp/htdocs/desa\">\r\n\t\tRewriteEngine on\r\n\t\t# Don't rewrite files or directories\r\n\t\tRewriteCond %{REQUEST_FILENAME} -f [OR]\r\n\t\tRewriteCond %{REQUEST_FILENAME} -d\r\n\t\tRewriteRule ^ - [L]\r\n\t\t# Rewrite everything else to index.html to allow html5 state links\r\n\t\tRewriteRule . /desa/index.html [L]\r\n\t</Directory>\r\n</VirtualHost>"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1615598683796},"updatedAt":{"$$date":1615598702590},"_id":"U0OAh5JGV9aeMrjd","folder":{"id":"ArGbgibS","name":"Default","open":false,"defaultLanguage":"text"},"tagsPopulated":[]}
{"name":"Rut simple","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"//comianza con un numero que no sea 0\r\n//tiene 7 u 8 caracteres\r\n//tiene guion\r\n//un solo digito despues del guion, k o K\r\n\r\nvar regx = /^([1-9]{1}[0-9]{6,7})(-(k|K|\\d){1})$/g"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1580398564526},"updatedAt":{"$$date":1580398786157},"_id":"UZQjQXBcB5d8NiYE","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Match INSERT query","folderId":"42FBVSLT","content":[{"label":"Fragment 1","language":"javascript","value":"// match de la sentencia complete desde INSERT hasta el punto y coma\r\n\r\nvar regx = /^INSERT(?:.+)\\n([\\s\\S]*?)(?:.+\\);)$/"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612284222020},"updatedAt":{"$$date":1612284406032},"_id":"YF9lwGhVj6j5jTos","folder":{"id":"42FBVSLT","name":"Regx","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"dandole de comer al tio benja","folderId":"kysBHmye","content":[{"label":"Fragment 1","language":"javascript","value":"console.log('Tio Benja se la come!');"}],"tags":["rirXDrWDIW6LttAI"],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579653446510},"updatedAt":{"$$date":1579653503901},"_id":"ZFHbEAT5iZwOQbay","folder":{"id":"kysBHmye","name":"BadSongs.rb","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"pene","_id":"rirXDrWDIW6LttAI","text":"pene"}]}
{"name":"POST json con un formulario html","folderId":"AAPrKhEl9","content":[{"label":"Fragment 1","language":"html","value":"<!-- https://systemoverlord.com/2016/08/24/posting-json-with-an-html-form.html -->\r\n\r\n<body onload='document.forms[0].submit()'>\r\n  <form method='POST' enctype='text/plain'>\r\n    <input name='{\"secret\": 1337, \"trash\": \"' value='\"}'>\r\n  </form>\r\n</body>"}],"tags":["kci94lWkOIsXaUXZ","gqwiN6q2rBxkovSg","7buKtbQ4an9TUkQI","pbnwIzIFdVwSOCm0"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1592413481324},"updatedAt":{"$$date":1592413540179},"_id":"appupo25h5pPhbxA","folder":{"id":"AAPrKhEl9","name":"jaksss","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"hack","_id":"kci94lWkOIsXaUXZ","text":"hack"},{"name":"json","_id":"gqwiN6q2rBxkovSg","text":"json"},{"name":"html","_id":"7buKtbQ4an9TUkQI","text":"html"},{"name":"post","_id":"pbnwIzIFdVwSOCm0","text":"post"}]}
{"name":"onChange timeOut","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"text","value":"   handlerBuscarRecurso = (ev) => {\r\n\r\n      const inputVal = ev.target.value;\r\n\r\n      clearTimeout( this.timebuscar )\r\n      this.timebuscar = setTimeout( ()=> this.buscarRecurso(inputVal), 500 );\r\n\r\n   }"}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579623176683},"updatedAt":{"$$date":1579623205083},"_id":"eXvjsyIOgZWw0UVb","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Untitled snippet","folderId":null,"content":[{"label":"Fragment 1","value":""}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1579701067199},"updatedAt":{"$$date":1579701067199},"_id":"emcs66To8aOqOU95"}
{"name":"filtro de documentos segun objetos en un array","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"javascript","value":"[\r\n  {\r\n    '$set': {\r\n      'category': {\r\n        '$filter': {\r\n          'input': '$category', \r\n          'as': 'cat', \r\n          'cond': {\r\n            '$eq': [\r\n              '$$cat.nameCategory', 'Actividad Conductual'\r\n            ]\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }, {\r\n    '$match': {\r\n      'category.0': {\r\n        '$exists': true\r\n      }\r\n    }\r\n  }\r\n]"}],"tags":["NS8vbLW1CLVts6VD","3TnR5Obhd1zDNTa6","RhzmgVmV1RYxdD6a"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1596842576981},"updatedAt":{"$$date":1596842637290},"_id":"fbkQ1t94A4mj50bv","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[]}
{"name":"Buscar Duplicados (y contar)","folderId":"-CGbZKy37","content":[{"label":"Fragment 1","language":"javascript","value":"//donde \"$rut\" es el nombre del campo ( agregando $ al comienzo)\r\n\r\ndb.collection.aggregate(\r\n    [{\"$group\" : { \"_id\": \"$doctorName\", \"count\": { \"$sum\": 1 } } },\r\n    {\"$match\": {\"_id\" :{ \"$ne\" : null } , \"count\" : {\"$gt\": 1} } }, \r\n    {\"$project\": {\"doctorName\" : \"$_id\", \"_id\" : 0} }]\r\n)\r\n\r\nvar acc = []\r\ndb.getCollection('tokenredgesams').distinct('doctorRut').forEach( rut => {\r\n\r\n  var tok = db.getCollection('tokenredgesams').findOne({ doctorRut: rut})\r\n  var count = db.getCollection('tokenredgesams').countDocuments({ doctorRut: rut})\r\n  acc.push( {rut: tok.doctorRut , nombre: tok.doctorName , consultas: count} )\r\n  print( tok.doctorRut +' '+ tok.doctorName +'  '+ count)\r\n\r\n} )\r\n\r\nJSON.stringify(acc)\r\n\r\ndb.getCollection('tokenredgesams').aggregate(\r\n[\r\n  {\r\n    '$group': {\r\n      '_id': '$patientRut', \r\n      'patientRut': {\r\n        '$addToSet': '$patientRut'\r\n      }\r\n    }\r\n  }, {\r\n    '$unwind': {\r\n      'path': '$patientRut', \r\n      'preserveNullAndEmptyArrays': true\r\n    }\r\n  }\r\n]\r\n)\r\n\r\n\r\ndb.getCollection('tokenredgesams').aggregate(\r\n[\r\n  {\r\n    '$group': {\r\n      '_id': '$doctorRut', \r\n      'doctorRut': {\r\n        '$addToSet': '$doctorRut'\r\n      }\r\n    }\r\n  }, {\r\n    '$unwind': {\r\n      'path': '$doctorRut', \r\n      'preserveNullAndEmptyArrays': true\r\n    }\r\n  }\r\n]\r\n)\r\n\r\n\r\n// contar y obtener informacion\r\ndb.getCollection('tokenredgesams').aggregate([\r\n  {\r\n    '$group': {\r\n      '_id': null, \r\n      'doctorRut': {\r\n        '$addToSet': '$doctorRut'\r\n      }\r\n    }\r\n  }, {\r\n    '$unwind': {\r\n      'path': '$doctorRut', \r\n      'preserveNullAndEmptyArrays': false\r\n    }\r\n  }, {\r\n    '$lookup': {\r\n      'from': 'tokenredgesams', \r\n      'localField': 'doctorRut', \r\n      'foreignField': 'doctorRut', \r\n      'as': 'consultasMedico'\r\n    }\r\n  }, {\r\n    '$set': {\r\n      'numeroConsultas': {\r\n        '$size': '$consultasMedico'\r\n      }, \r\n      'doctorName': {\r\n        '$arrayElemAt': [\r\n          '$consultasMedico', 0\r\n        ]\r\n      }\r\n    }\r\n  }, {\r\n    '$set': {\r\n      'consultasMedico': null, \r\n      'doctorName': '$doctorName.doctorName'\r\n    }\r\n  }\r\n])\r\n\r\n"}],"tags":["3TnR5Obhd1zDNTa6","NmBbnWk2XQ54zovX"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1588964490675},"updatedAt":{"$$date":1612885358617},"_id":"jQ45y2j68a19qmu9","folder":{"id":"-CGbZKy37","name":"MongoDB","open":false,"defaultLanguage":"text"},"tagsPopulated":[{"name":"mongodb","_id":"3TnR5Obhd1zDNTa6","text":"mongodb"},{"name":"aggregate","_id":"NmBbnWk2XQ54zovX","text":"aggregate"}]}
{"name":"Copiar carpetasy archivos","folderId":"ckpLYBKjW","content":[{"label":"Fragment 1","language":"shell","value":"#copiar carpeta completa\r\nscp -r /folder/carpeta-local/* usuarioremoto@200.xxx.xxx.xxx:/carpeta/destino/lala/\r\n\r\n#copiar archivo\r\nscp /folder/carpeta-local/*.* usuarioremoto@200.xxx.xxx.xxx:/carpeta/destino/lala/"}],"tags":["AT6Xi4j4PbqTmua0"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1612284078753},"updatedAt":{"$$date":1612284202878},"_id":"lsLmjOR43UDnDGMq","folder":{"id":"ckpLYBKjW","name":"Shell","open":false,"defaultLanguage":"shell"},"tagsPopulated":[{"name":"scp","_id":"AT6Xi4j4PbqTmua0","text":"scp"}]}
{"name":"Exportar CSV","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"function download_csv(csv, filename) {\r\n    var csvFile;\r\n    var downloadLink;\r\n\r\n    // CSV FILE\r\n    csvFile = new Blob([csv], {type: \"text/csv\"});\r\n\r\n    // Download link\r\n    downloadLink = document.createElement(\"a\");\r\n\r\n    // File name\r\n    downloadLink.download = filename;\r\n\r\n    // We have to create a link to the file\r\n    downloadLink.href = window.URL.createObjectURL(csvFile);\r\n\r\n    // Make sure that the link is not displayed\r\n    downloadLink.style.display = \"none\";\r\n\r\n    // Add the link to your DOM\r\n    document.body.appendChild(downloadLink);\r\n\r\n    // Lanzamos\r\n    downloadLink.click();\r\n}\r\n\r\nfunction export_table_to_csv(html, filename) {\r\n\tvar csv = [];\r\n\tvar rows = document.querySelectorAll(\"table tr\");\r\n\t\r\n    for (var i = 0; i < rows.length; i++) {\r\n\t\tvar row = [], cols = rows[i].querySelectorAll(\"td, th\");\r\n\t\t\r\n        for (var j = 0; j < cols.length; j++) \r\n            row.push(cols[j].innerText);\r\n        \r\n\t\tcsv.push(row.join(\",\"));\t\t\r\n\t}\r\n\r\n    // Download CSV\r\n    download_csv(csv.join(\"\\n\"), filename);\r\n}\r\n\r\ndocument.querySelector(\"button\").addEventListener(\"click\", function () {\r\n    var html = document.querySelector(\"table\").outerHTML;\r\n\texport_table_to_csv(html, \"table.csv\");\r\n});\r\n"}],"tags":["wL1Hy2BmOXWRCIdr","kEZ5YPGHXyqqyPjD","74qkL2cjdgvaHwbl"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1615995194179},"updatedAt":{"$$date":1615995208907},"_id":"lyQTBiHDTCi2k6O6","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[]}
{"name":"Untitled snippet","folderId":"ckpLYBKjW","content":[{"label":"Fragment 1","language":"text","value":""}],"tags":[],"isFavorites":false,"isDeleted":true,"createdAt":{"$$date":1612283944777},"updatedAt":{"$$date":1612283944777},"_id":"qI0ItbQ45xwYhUGD"}
{"name":"Enjoy the little thinks","folderId":"1lvKjNcQ","content":[{"label":"Fragment 1","language":"pgsql","value":"--Listar todas las tablas con datos tipo enum\r\nselect n.nspname as enum_schema,  \r\n       t.typname as enum_name,  \r\n       e.enumlabel as enum_value\r\nfrom pg_type t \r\n   join pg_enum e on t.oid = e.enumtypid  \r\n   join pg_catalog.pg_namespace n ON n.oid = t.typnamespace"}],"tags":[],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579658549006},"updatedAt":{"$$date":1601845185753},"_id":"wpR7mhTinWjlJg7L","folder":{"id":"1lvKjNcQ","name":"Postgres","open":false,"defaultLanguage":"sql"},"tagsPopulated":[]}
{"name":"Convertir codigo hexadecimal ascii a caracter","folderId":"3pivBo39","content":[{"label":"Fragment 1","language":"javascript","value":"function hex_to_ascii(str1)\r\n{\r\n   var hex  = str1.toString();\r\n   var str = '';\r\n   for (var n = 0; n < hex.length; n += 2) {\r\n       str += String.fromCharCode(parseInt(hex.substr(n, 2), 16));\r\n   }\r\n   return str;\r\n}\r\n\r\nconsole.log(hex_to_ascii('0D'))  // salto de linea\r\nconsole.log( JSON.stringify( hex_to_ascii('0D') ) ) // \"\\r\"\r\nconsole.log(hex_to_ascii('3F')) // ?\r\nconsole.log(hex_to_ascii('40')) // @"}],"tags":["zPKqcjdDMQZ5c0pb","rBD9zTvNS0tgqhna"],"isFavorites":false,"isDeleted":false,"createdAt":{"$$date":1579731478004},"updatedAt":{"$$date":1579731844595},"_id":"xEEYAfsOIrL4yTlX","folder":{"id":"3pivBo39","name":"JavaScript","open":false,"defaultLanguage":"javascript"},"tagsPopulated":[{"name":"hexadecimal","_id":"zPKqcjdDMQZ5c0pb","text":"hexadecimal"},{"name":"ascii","_id":"rBD9zTvNS0tgqhna","text":"ascii"}]}
